spring:
  datasource:
    dynamic:
      hikari:
        connection-test-query: select 1 from dual
        idle-timeout: 600000
        pool-name: hikariPool
        max-lifetime: 1800000
        connection-timeout: 30000
        min-idle: 5
        max-pool-size: 10
        is-auto-commit: true
        connection-init-sql: select 1
        is-read-only: false
      primary: master
      strict: false
      datasource:
        master:
          url: ${mysql.url}
          username: ${mysql.username}
          password: ${mysql.password}
          continue-on-error: true
          driver-class-name: com.p6spy.engine.spy.P6SpyDriver
          p6spy: true
        second:
          url: ${mysql.second.url}
          username: ${mysql.second..username}
          password: ${mysql.second..password}
          continue-on-error: true
          driver-class-name: com.p6spy.engine.spy.P6SpyDriver
          p6spy: true
  sql:
    init:
      continue-on-error: false
  web:
    resources:
      add-mappings: true
  flyway:
    enabled: true
    encoding: UTF-8
    locations: classpath:db/migration
    sqlMigrationPrefix: V
    sqlMigrationSeparator: __
    sqlMigrationSuffixes: .sql
    validateOnMigrate: true
    baselineOnMigrate: true
    clean-disabled: true
  servlet:
    multipart:
      max-file-size: 50MB
      max-request-size: 50MB
  redis:
    port: ${redis.port}
    host: ${redis.host}
    password: ${redis.password}
  profiles:
    active: dev
mybatis-plus:
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
    auto-mapping-unknown-column-behavior: warning
    cache-enabled: false
    default-executor-type: simple
    lazy-loading-enabled: false
  global-config:
    db-config:
      logic-delete-value: 1
      logic-not-delete-value: 0
knife4j:
  enable: true
server:
  port: 8888
debug: false
management:
  endpoints:
    web:
      exposure:
        include: '*'
  endpoint:
    health:
      show-details: always

logging:
  file:
    path: ./logs
  level:
    root: info
    org.springframework.jdbc.core.JdbcTemplate: DEBUG
